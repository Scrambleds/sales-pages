<div class="cart-list-container">
  <!-- Select All Header -->
  <div class="card border-0 mb-3 shadow-sm">
    <div class="card-body d-flex justify-content-between align-items-center">
      <div class="d-flex align-items-center gap-2">
        <input
          class="form-check-input fs-5"
          type="checkbox"
          value=""
          id="selectAllCheck"
          style="cursor: pointer"
        />
        <label class="form-check-label fw-bold pt-1" for="selectAllCheck">
          เลือกทั้งหมด ({{ cartService.totalItemsId() }})
        </label>
      </div>
      <button class="btn btn-link p-0">
        <i class="bi bi-trash3 fs-5"></i>
      </button>
    </div>
  </div>

  <!-- Cart Items List -->
  <div class="card border-0 shadow-sm">
    <div class="card-body py-0">
      @for (item of cartService.CartItems(); track item.product.id; let last =
      $last) {
      <div class="py-3">
        <div class="d-flex align-items-start gap-3">
          <!-- Checkbox -->
          <div class="pt-1">
            <input
              class="form-check-input fs-5"
              type="checkbox"
              [id]="'check-' + item.product.id"
              style="cursor: pointer"
            />
          </div>

          <!-- Item Content -->
          <div class="flex-grow-1">
            <div class="row g-3 align-items-center">
              <!-- Product Details -->
              <div class="col-12 col-md-6">
                <h6 class="mb-2 text-dark lh-base">{{ item.product.title }}</h6>
                <!-- Variant Selector (Mockup style) -->
                @if(0){
                <div
                  class="d-inline-flex align-items-center bg-light text-secondary rounded px-3 py-1 small border"
                  style="cursor: pointer"
                >
                  Deep Blue, 512GB
                  <i
                    class="bi bi-chevron-down ms-2"
                    style="font-size: 0.75rem"
                  ></i>
                </div>
                }
              </div>

              <!-- Price -->
              <div class="col-6 col-md-3 text-md-end order-md-2">
                <div class="fw-bold fs-5">
                  {{
                    item.product.price | currency : "THB" : "symbol" : "1.2-2"
                  }}
                </div>
              </div>

              <!-- Actions (Quantity & Delete) -->
              <div class="col-6 col-md-3 order-md-3">
                <div
                  class="d-flex justify-content-end align-items-center gap-3"
                >
                  <!-- Quantity Control -->
                  <app-quantity-selector
                    [quantity]="item.quantity"
                    (quantityChange)="updateQuantity(item.product.id, $event)"
                  ></app-quantity-selector>

                  <!-- Delete Button -->
                  <button
                    class="btn btn-link p-0"
                    (click)="removeItem(item.product.id)"
                  >
                    <i class="bi bi-trash3 fs-5"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      @if (!last) {
      <hr class="m-0 text-secondary-subtle opacity-25" />
      } }

      <!-- Empty State -->
      @if (cartService.CartItems().length === 0) {
      <div class="p-5 text-center text-muted">
        <i class="bi bi-cart-x display-1 mb-3 opacity-50"></i>
        <p class="fs-5">ไม่มีสินค้าในตะกร้า</p>
      </div>
      }
    </div>
    <!-- <p>cart-list works!</p> -->
  </div>
</div>
